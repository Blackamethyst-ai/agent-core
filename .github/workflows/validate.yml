name: Validate

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  validate:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Setup Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.11'

      - name: Validate Python syntax
        run: |
          echo "Checking Python scripts..."
          python -m py_compile scripts/*.py
          echo "✓ All scripts valid"

      - name: Check setup script
        run: |
          echo "Verifying setup.sh..."
          bash -n setup.sh
          echo "✓ setup.sh syntax valid"

      - name: Verify Metaventions branding
        run: |
          echo "Checking README branding..."
          grep -q "Metaventions AI" README.md && echo "✓ README branded"
          grep -q "Let the invention be hidden in your vision" README.md && echo "✓ Tagline present"
          echo "Brand verification complete"

      - name: Validate workflows
        run: |
          echo "Checking workflow files..."
          for f in workflows/*.md; do
            [ -f "$f" ] && echo "✓ $f exists"
          done
          echo "Workflow validation complete"
